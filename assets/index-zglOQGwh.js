(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const m=(e,t)=>{const n=[];return e.forEach(r=>{var o;r.region===t&&((o=r.name)!=null&&o.common)&&n.push(r.name.common)}),n};let a=0,u=0,l=0,i=[];const p=async()=>{try{return await(await fetch("https://restcountries.com/v3.1/all")).json()}catch(e){return console.error("Error fetching continents data:",e),[]}},y=async e=>{try{const t=await p();if(i=m(t,e),!i||i.length===0)throw new Error("No countries available for the selected continent");l=i.length,a=0,C(i),console.log(`1. startContinentQuiz Troubleshooting - Countries in ${e}:`,i)}catch(t){console.error("Error starting continent quiz:",t)}},C=e=>{if(!e||e.length===0)throw new Error("No countries available for the selected continent");const t=b(e),n=document.querySelector(".home-container"),r=document.querySelector(".game-container");if(n&&r)n.style.display="none",r.style.display="flex",d(t);else throw new Error("Issue with selectors: home-container or game-container not found")},w=async()=>{try{const e=await fetch("https://restcountries.com/v3.1/all");if(!e.ok)throw new Error("Failed to fetch flag data");return await e.json()}catch(e){throw console.error("Error fetching flag data:",e),e}},E=async e=>{try{const n=(await w()).find(c=>c.name.common===e);if(!n)throw new Error("Invalid flag data format");const r=n.flags.png,o=document.querySelector("#flag");if(o)o.src=r,o.alt=e;else throw new Error("Flag image element not found in the HTML");const s=O(e);T(s)}catch(t){console.error("Error displaying country quiz:",t)}},O=e=>{const t=[],n=i.filter(s=>s!==e);for(;t.length<3;){const s=Math.floor(Math.random()*n.length),c=n[s];t.includes(c)||t.push(c)}const r=e,o=t.filter(s=>s!==r);return console.log("2. generateOptions Troubleshooting - Nominated Country:",e),console.log("3. generateOptions Troubleshooting - Options Generated:",t),console.log("4. generateOptions Troubleshooting - Incorrect Answers:",o),console.log("5. generateOptions Troubleshooting - Correct Answer:",r),t.push(e),S(t)},b=e=>{const t=Math.floor(Math.random()*e.length);return e[t]},S=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t},d=async e=>{try{await E(e)}catch(t){console.error("Error generating quiz",t)}},T=e=>{document.querySelectorAll(".option").forEach((n,r)=>{n.textContent=e[r],n.disabled=!1,n.addEventListener("click",o=>{g(o,e[r])})}),f()};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".continents").forEach(n=>{n.addEventListener("click",async r=>{if(r.target instanceof HTMLButtonElement){const o=r.target.textContent;o?await y(o):console.error("Issue with continent button")}else console.error("Event target is not a button element")})}),document.querySelectorAll(".option").forEach(n=>{n.addEventListener("click",r=>{const o=n.textContent;o?g(r,o):console.error("Selected option is invalid")})})});const f=()=>{const e=document.querySelector("#score");e?e.textContent=`Score: ${u}/${l}`:console.error("Score element not found")},g=async(e,t)=>{const n=e.target;n.disabled=!0;const r=i[a];console.log("6. handleOptionClick Troubleshooting - Clicked option:",t),console.log("7. handleOptionClick Troubleshooting - Confirmation of Current Country:",r);const o=t.trim().toLowerCase(),s=r.trim().toLowerCase();if(console.log("8a. handleOptionClick Troubleshooting Normalised Selected Option:",o),console.log("8b. handleOptionClick Troubleshooting Normalised Current Country:",s),o===s?(u++,console.log("9a. handleOptionClick Troubleshooting - CORRECT! Score added")):console.log("9b. handleOptionClick Troubleshooting - INCORRECT! Score stays the same"),f(),a++,a<l){const c=i[a];await d(c)}else{const c=document.querySelector(".message");if(c){const h=`Quiz completed. Score: ${u}/${l}`;c.textContent=h}}};
